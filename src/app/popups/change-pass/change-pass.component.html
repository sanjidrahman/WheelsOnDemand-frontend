<h1 class="mt-3">Change Password</h1>
<form [formGroup]="passFormChange" #passForm="ngForm" (ngSubmit)="onSubmit()" class="edit-host-form">
    <mat-form-field class="example-full-width">
        <mat-label>Old Password</mat-label>
        <input [type]="hide ? 'password' : 'text'" formControlName="oldPass" matInput>
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>New Password</mat-label>
        <input [type]="hidepass ? 'password' : 'text'" formControlName="password" matInput>
        <button mat-icon-button matSuffix (click)="hidepass = !hidepass" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidepass">
            <mat-icon>{{hidepass ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
    </mat-form-field>
    <div *ngIf="passForm.submitted && passFormChange.controls['password'].errors">
        <div class="text-danger text-sm" *ngIf="passFormChange.controls['password'].dirty">
            <span class="block"
                [ngClass]="{'text-primary': passFormChange.controls['password'].value?.match('^(?=.*[A-Z])')}">At
                least uppercase letter.</span><br>

            <span class="block"
                [ngClass]="{'text-primary': passFormChange.controls['password'].value?.match('(?=.*[a-z])')}">At
                least one lowercase letter.</span><br>

            <span class="block"
                [ngClass]="{'text-primary': passFormChange.controls['password'].value?.match('(.*[0-9].*)')}">At
                least one digit.</span><br>

            <span class="block"
                [ngClass]="{'text-primary': passFormChange.controls['password'].value?.match('(?=.*[!@#$%^&*])')}">At
                least one special character.</span><br>

            <span class="block"
                [ngClass]="{'text-primary': passFormChange.controls['password'].value?.match('.{8,}')}">At
                least 8 characters long.</span><br><br>
        </div>
    </div>

    <mat-form-field class="example-full-width">
        <mat-label>Confirm Password</mat-label>
        <input [type]="hideconfirm ? 'password' : 'text'" formControlName="confirmPass" matInput>
        <button mat-icon-button matSuffix (click)="hideconfirm = !hideconfirm" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hideconfirm">
            <mat-icon>{{hideconfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
    </mat-form-field>
    <div *ngIf="passForm.submitted && passFormChange.controls['confirmPass'].errors">
        <p class="text-danger"
            *ngIf="passForm.submitted && passFormChange.controls['confirmPass'].errors['passwordMismatch']">
            Confirm Password doesn't match.
        </p>
    </div>

    <div class="button-container mb-3">
        <button mat-flat-button color="primary" type="submit">Save Changes</button>
        <button mat-flat-button type="button" (click)="close()" color="warn">Cancel</button>
    </div>
</form>